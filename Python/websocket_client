import websocket

# HÃ m xá»­ lÃ½ khi nháº­n dá»¯ liá»‡u tá»« server
def on_message(ws, message):
    print(f"ğŸ“© Dá»¯ liá»‡u tá»« server: {message}")

# HÃ m xá»­ lÃ½ khi cÃ³ lá»—i xáº£y ra
def on_error(ws, error):
    print(f"âŒ Lá»—i WebSocket: {error}")

# HÃ m xá»­ lÃ½ khi káº¿t ná»‘i bá»‹ Ä‘Ã³ng
def on_close(ws, close_status_code, close_msg):
    print("ğŸ”´ Káº¿t ná»‘i WebSocket Ä‘Ã£ Ä‘Ã³ng!")

# HÃ m xá»­ lÃ½ khi WebSocket káº¿t ná»‘i thÃ nh cÃ´ng
def on_open(ws):
    print("âœ… WebSocket Ä‘Ã£ káº¿t ná»‘i!")

# Táº¡o WebSocket vÃ  thiáº¿t láº­p cÃ¡c hÃ m xá»­ lÃ½ sá»± kiá»‡n
ws = websocket.WebSocketApp("wss://api.vemaybay.one/noti/socket.io/?userId=1006684",
                            on_message=on_message,
                            on_error=on_error,
                            on_close=on_close)

ws.on_open = on_open

# LuÃ´n láº¯ng nghe dá»¯ liá»‡u tá»« server
ws.run_forever()