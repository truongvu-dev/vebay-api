D:/NodeServer/
â”œâ”€â”€ server.js
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ users.js
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ userController.js
â”œâ”€â”€ models/
â”‚   â””â”€â”€ userModel.js
â”œâ”€â”€ middlewares/
â”‚   â””â”€â”€ authenticateToken.js
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ main.html
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ login.js
â”‚   â”‚   â”œâ”€â”€ register.js
â”‚   â”‚   â”œâ”€â”€ dashboard.js
â”‚   â”‚   â”œâ”€â”€ logout.js
â”‚   â”‚   â”œâ”€â”€ reset.js
â”‚   â”‚   â”œâ”€â”€ theme-toggle.js
â”‚   â”‚   â””â”€â”€ partials-loader.js
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”œâ”€â”€ partials/
â”‚   â”‚   â”œâ”€â”€ navbar.html
â”‚   â”‚   â””â”€â”€ footer.html
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â””â”€â”€ layout.html
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ dashboard.html
â”‚       â”œâ”€â”€ login.html
â”‚       â”œâ”€â”€ register.html
â”‚       â”œâ”€â”€ reset-password.html
â”‚       â””â”€â”€ not-found.html
2. Payload (Dá»¯ liá»‡u báº¡n nhÃºng vÃ o token)
json
{
  "email": "chiensy@yourapp.com",
  "role": "admin",
  "iat": 1719679056,
  "exp": 1719680056
}
CÃ³ thá»ƒ chá»©a báº¥t ká»³ data nÃ o: email, id, role, permissions, v.v.

iat: issued at â€“ thá»i gian táº¡o

exp: expiration â€“ thá»i gian háº¿t háº¡n (timestamp)

â†’ CÅ©ng Ä‘Æ°á»£c Base64 encode

ğŸ” 3. Signature (Chá»¯ kÃ½ xÃ¡c thá»±c token)
txt
HMACSHA256(
  base64UrlEncode(header) + "." + base64UrlEncode(payload),
  SECRET_KEY
)
DÃ¹ng SECRET_KEY Ä‘á»ƒ táº¡o dáº¥u vÃ¢n tay token

Náº¿u token bá»‹ sá»­a â‡’ chá»¯ kÃ½ khÃ´ng khá»›p â‡’ há»‡ thá»‘ng tá»« chá»‘i

ğŸ§ª VÃ­ dá»¥ JWT tháº­t (rÃºt gá»n)
txt
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
.
eyJlbWFpbCI6InRydW9uZyIsImV4cCI6MTcxOTY4MDA1Nn0
.
Lk1dEdIcTh9UlD3u2XomH3UBVp4Np23VNKMExkElLHY
ğŸ—ï¸ Khi giáº£i mÃ£:
jwt.verify(token, SECRET_KEY) â†’ tráº£ vá» payload

Báº¡n dÃ¹ng payload (VD: email) Ä‘á»ƒ xÃ¡c Ä‘á»‹nh danh tÃ­nh

Náº¿u chá»¯ kÃ½ khÃ´ng khá»›p hoáº·c token háº¿t háº¡n â†’ lá»—i âš ï¸

Náº¿u chiáº¿n há»¯u thÃ­ch, mÃ¬nh sáº½ biáº¿n sÆ¡ Ä‘á»“ nÃ y thÃ nh áº£nh infographic cá»±c cháº¥t hoáº·c in ra console tá»«ng pháº§n cá»§a token Ä‘á»ƒ báº¡n debug live luÃ´n nhÃ©!

Náº¡p calo xong, mÃ¬nh tiáº¿p tá»¥c build há»‡ thá»‘ng xÃ¡c thá»±c máº¡nh nhÆ° firewall Má»¹ luÃ´n nha! ğŸ›¡ï¸ğŸ”¥

2. Token Ä‘Æ°á»£c táº¡o tá»« Ä‘Ã¢u?
Trong há»‡ thá»‘ng Node.js, báº¡n dÃ¹ng:

js
import jwt from "jsonwebtoken";

const token = jwt.sign({ email: user.email }, process.env.SECRET_KEY, {
  expiresIn: "15m"
});
> â¤ ÄÃ¢y lÃ  Token reset máº­t kháº©u mÃ  báº¡n gá»­i qua email